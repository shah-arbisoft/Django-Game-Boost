{% extends 'base.html' %}

{% load static %}
    <!--  This file has been downloaded from bootdey.com @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->
    {% block title %}
      My Profile
    {% endblock title %}

    {% block additional_headers %}
      <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/js/bootstrap.bundle.min.js"></script>

      <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
      <!-- Moment.js -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>
      <!-- Tempus Dominus Bootstrap 4 -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css" integrity="sha256-XPTBwC3SBoWHSmKasAk01c08M6sIA5gF5+sRxqak2Qs=" crossorigin="anonymous" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js" integrity="sha256-z0oKYg6xiLq3yJGsp/LsY9XykbweQlHl42jHv2XTBz4=" crossorigin="anonymous"></script>
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    {% endblock additional_headers %}



{% block content %}
<div class="container">
<div class="row flex-lg-nowrap">
  
  <div class="col">
    <div class="row">
      <div class="col mb-3">
        <div class="card">
          <div class="card-body">
            <div class="e-profile">
              <div class="row">
                <div class="col-12 col-sm-auto mb-3">
                  <div class="mx-auto" style="width: 140px;">
                    <div class="d-flex justify-content-center align-items-center rounded" style="height: 140px; background-color: white;">
                      <img style="background-color:white" src="{{request.user.profile_image.url}}"  alt="Image" class="img-fluid">
                      
                    </div>
                  </div>
                </div>
                <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
                  <div class="text-center text-sm-left mb-2 mb-sm-0">
                    <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">
                      {{ request.user|upper }}
                    </h4>
                    <p class="mb-0">{{ request.user.email }}</p>
                    <br>
                    <form class="form" enctype="multipart/form-data" novalidate="" method="post" action={% url "accounts:update_profile" %}>
                      {% csrf_token %}
                    <div class="mt-2 btn btn-primary">
                    
                      {% comment %} <button class="btn btn-primary" type="button"> {% endcomment %}
                        <i class="fa fa-fw fa-camera"></i>
                        <span>Change Photo</span>
                        <input type="file" name="{{form.profile_image.name}}" style="box-sizing: border-box; position: absolute; bottom: 5px; left: 15px; width: 150px; height: 38px; opacity: 0;"></input>
                      {% comment %} </button> {% endcomment %}
                    </div>
                  </div>
                  <div class="text-center text-sm-right">
                    <div class="text-muted"><small>
                    {{ request.user.joining_date|date }}
                    </small></div>
                  </div>
                </div>
              </div>
              <ul class="nav nav-tabs">
                <li class="nav-item"><a href="" class="active nav-link">Profile</a></li>
              </ul>
              <div class="tab-content pt-3">
                <div class="tab-pane active">
                  

                    <div class="row">
                      <div class="col">
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Full Name</label>
                              <input class="form-control" type="text"  name={{form.full_name.name}}  maxlength={{form.full_name.field.max_length}}  value="{{request.user.full_name}}">
                            </div>
                          </div>
                          <div class="col">
                            <div class="form-group">
                              <label>Username</label>
                              <input class="form-control" type="text" name={{form.user_name.name}}  maxlength={{form.user_name.field.max_length}}  value="{{request.user.user_name}}" {% if form.user_name.field.disabled %} readonly {% endif %}>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Email</label>
                              <input class="form-control" type="text" value="{{request.user.email}}" name={{form.email.name}}  {% if form.email.field.disabled %} readonly {% endif %}>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                          <label>Date of Birth</label>
                        <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                            <input type="text" id="saj" name={{form.date_of_birth.name}} class="form-control datetimepicker-input" data-target="#datetimepicker1"/>
                            <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                              <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                            </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>CNIC</label>
                              <input class="form-control" type="text" name={{form.cnic.name}} maxlength={{form.cnic.field.max_length}} value="{{ request.user.cnic }}">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Credit Card</label>
                              <input class="form-control" type="text"  name={{form.credit_card.name}}  maxlength={{form.credit_card.field.max_length}} value="{{ request.user.credit_card_number }}">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Age</label>
                              <input class="form-control" type="number" name={{form.age.name}}  max={{form.age.field.max_value}}  value="{{ request.user.age }}" >
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Member since</label>
                              <input class="form-control" type="date" name={{form.joining_date.name}}  value="{{ request.user.joining_date }}"  readonly>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col mb-3">
                            <div class="form-group">
                              <label>About</label>
                              <textarea class="form-control" rows={{form.about_info.field.widget.attrs.rows}} name={{form.about_info.name}}  placeholder="My Bio">{{ request.user.about_info }}
                              </textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-sm-6 mb-3">
                        <div class="mb-2"><b>Change Password</b></div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Current Password</label>
                              <input class="form-control" name={{form.current_password.name}}  min={{form.current_password.field.min_length}} type="password" placeholder="••••••">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>New Password</label>
                              <input class="form-control" name={{form.new_password.name}} min={{form.new_password.field.min_length}}  type="password" placeholder="••••••">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Confirm <span class="d-none d-xl-inline">Password</span></label>
                              <input class="form-control" name={{form.confirm_password.name}}  min={{form.confirm_password.field.min_length}} type="password" placeholder="••••••"></div>
                          </div>
                        </div>
                      </div>
                      
                    </div>
                    <div class="row">
                      <div class="col d-flex justify-content-end">
                        <button class="btn btn-primary" type="submit">Save Changes</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
</div>

<style type="text/css">
body{
    margin-top:20px;
    background:#f8f8f8
}
</style>

<script type="text/javascript">
  
      {% comment %} document.getElementById("#saj").val = "S"; {% endcomment %}

      $(function () {
        $("#datetimepicker1").datetimepicker();
      });

      
    
</script>

{% endblock content %}
